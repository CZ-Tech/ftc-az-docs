# Globals:机器人基本参数

## 概要

路径：
> common/Globals

这些基本参数直接影响到机器人的运动，所以填写恰当的数值是十分重要的。



## 具体介绍

### COUNTS_PER_MOTOR_REV
转一圈的计数，此由电机自带的齿轮箱以及电机本身共同决定

**计算公式：电机自带齿轮箱减速比x电机每转一圈的计数**

Rev HD Hex Motor （没有外接齿轮）: 每转1圈28次计数

配合常见的电机中自带的齿轮：
* GoBILDA 312 RPM (19.2:1) (黄色外衣的): 537.6=28*19.2
* Rev (40:1): 28*40=1120
* Rev (20:1): 28*20=560

{% hint style="warning" %}
根据你的电机来计算这个参数，也可以从你的电机销售网站上确定此参数
{% endhint %}

### DRIVE_GEAR_REDUCTION
外部齿轮减速，如果使用电机减速箱而没有加装齿轮的话值为1。

如果有，当加上外部 12 齿正齿轮驱动 24 齿正齿轮时，使用 2.0 值，以此类推。

### WHEEL_DIAMETER_INCHES

输入轮子的直径，单位为英寸，也可以从零售网站上查找该信息。

### ODO_COUNTS_PER_INCH

里程计每转一圈的计数，是机器运动的纠偏的重要参数。计算方式与COUNTS_PER_INCH相同。

我们将里程计每转一圈计数，再除以里程计轮子的周长，从而就可以得到每行动一英寸时里程计的计数。

表达式为：

ODO_COUNTS_PER_INCH = COUNTS_PER_ODO_REV / (WHEEL_DIAMETER_INCHES * Math.PI);

### P_TURN_GAIN

我们通过将此值乘以实际旋转时的误差，再将其规范在[-1,1]之间，并给电机传送信号。

因此如果此值过大会，转向速度过大，导致转向不精确，值过小会导致转向调整的时间过于缓慢。

**推荐在多次尝试中得到适合自己的值**。

### HEADING_THRESHOLD

此值用于确定转向时允许的误差。

在程序中，我们将转向的误差与此值进行对比。如果误差值小于此值，则纠偏完成，进行下一个程序；如果误差值大于此值，那么机器继续进行纠偏，直到误差值在规定的范围之内停止。

因此，如果此值过大会导致转向不精确，值过小会导致反复地调整角度，影响后续程序的进行。

**推荐在多次尝试中得到适合自己的值**